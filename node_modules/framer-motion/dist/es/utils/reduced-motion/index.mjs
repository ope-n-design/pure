import { isBrowser } from '../is-browser.mjs';
import { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';

function initPrefersReducedMotion() {
    hasReducedMotionListener.current = true;
    if (!isBrowser)
        return;
    if (window.matchMedia) {
        const motionMediaQuery = window.matchMedia("(prefers-reduced-motion)");
        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);
<<<<<<< HEAD
<<<<<<< HEAD
        motionMediaQuery.addEventListener("change", setReducedMotionPreferences);
=======
        motionMediaQuery.addListener(setReducedMotionPreferences);
>>>>>>> 65a40ce3 (실적추가)
=======
        motionMediaQuery.addEventListener("change", setReducedMotionPreferences);
>>>>>>> c768ebde (실적추가)
        setReducedMotionPreferences();
    }
    else {
        prefersReducedMotion.current = false;
    }
}

export { initPrefersReducedMotion };
